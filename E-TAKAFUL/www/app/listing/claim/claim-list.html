<ion-view hide-nav-bar="true" class="helper-intro bg" cache-view="false">
    <common-header show-options="true" show-steps="false" show-back="true" services="common" logo-link="menu"></common-header>
    <img class="takaful-preloader" src="./img/preloader.gif" alt="takaful" ng-if="vm.preloader">
    <ion-content class="travel-content has-header" ng-class="{'touch-disabled' : vm.actionDisabled}">
    	<div class="max-270">
    		<div class="wrap-register-title">
				<h2>{{"View Claims" | translate}}</h2>
			</div>
    		<ion-list class="policy-list">
    			<ion-item ng-repeat="(key, value) in claim.List" class="policy-list-item shadow">
    				<div class="policy-item-overview">
	    				<div class="policy-item-title claim">
	    					<div class="policy-item-label">
								<span class="policy-item-text">{{ "Policy Number" | translate}}</span>
								<span>{{value.POLICYNO}}</span>
	    					</div>	
	    				</div><!-- .policy-item-title -->
	    				<div class="row">
		    				<div class="policy-item-label">
	    						<span class="policy-item-text">{{ "Claim Number" | translate}}</span>
	    						<span><b>{{value.CLAIMNO}}</b></span>
	    					</div>	
	    				</div>
	    				<div class="row no-padding">
	    					<div class="col col-25 text-center">
	    						<div class="policy-item-label">{{ "Loss Date" | translate}}</div>
	    						<div class="policy-item-date">
									<div class="policy-item-day">{{vm.dates[$index]['LOSSDATE']['day']}}</div>
									<div>{{vm.dates[$index]['LOSSDATE']['month']}}</div>
									<div>{{vm.dates[$index]['LOSSDATE']['year']}}</div>
								</div>
	    					</div><!-- .col -->
	    					<div class="col col-35 text-center">
	    						<div class="policy-item-label">{{ "Intimation Date" | translate}}</div>
	    						<div class="policy-item-date">
									<!-- {{vm.dateFormat(value.INTIMATIONDATE)}} -->
									<div class="policy-item-day">{{vm.dates[$index]['INTIMATIONDATE']['day']}}</div>
									<div>{{vm.dates[$index]['INTIMATIONDATE']['month']}}</div>
									<div>{{vm.dates[$index]['INTIMATIONDATE']['year']}}</div>
								</div>
	    					</div><!-- .col -->
	    					<div class="col col-40 text-center">
	    						<div class="policy-item-label">{{ "Premium Amount" | translate}}</div>
	    						<div class="policy-item-date">
									<div class="policy-item-day">{{value.POLICYNETPREM}}</div>
									<div>{{"OMR" | translate}}</div>
								</div>
	    					</div><!-- .col -->
	    				</div><!-- .row -->
	    				<div class="wrap-list-buttons text-right">
	    					<button type="button" class="btn-list" ng-click="vm.viewPolicy($index)">
	    						<span ng-if="selectedClaim == $index">
	    							{{"Hide" | translate}}	
	    						</span>
	    						<span ng-if="selectedClaim != $index">
	    							{{"View" | translate}}	
	    						</span>
	    					</button>
	    					<button type="button" class="btn-list intimate" ng-click="vm.viewStatus($index)">
								<span ng-if="selectedStatus == $index">
	    							{{"Hide" | translate}}	
	    						</span>
	    						<span ng-if="selectedStatus != $index">
	    							{{"Status" | translate}}
	    						</span>
							</button>
	    				</div><!-- .wrap-list-buttons -->
					</div><!-- .policy-item-overview -->
					
    				<div class="policy-item-detail" ng-if="selectedStatus == $index">
						<div ng-if="vm.claimStatus[$index]" class="row">
							<div class="col"><b>{{"Claim Status" | translate}}</b></div>
						</div>
						<div class="row" ng-repeat="(key, value) in vm.claimStatus[$index]">
    						<div class="col col-40">
    							<div class="policy-item-label">{{key}}</div>
    						</div><!-- .col -->
    						<div class="col col-60">
    							<div class="policy-item-text">{{value}}</div>
    						</div><!-- .col -->
						</div><!-- .row -->
					</div><!-- .policy-item-detail -->
					
					<div class="policy-item-detail" ng-if="selectedClaim == $index">
						<div ng-if="claim.Detail[$index]" class="row">
							<div class="col"><b>{{"Claim Details" | translate}}</b></div>
						</div>
						<div class="row" ng-repeat="(key, value) in claim.Detail[$index]">
    						<div class="col col-40">
    							<div class="policy-item-label">{{key}}</div>
    						</div><!-- .col -->
    						<div class="col col-60">
    							<div class="policy-item-text">{{value}}</div>
    						</div><!-- .col -->
    					</div><!-- .row -->
    				</div><!-- .policy-item-detail -->

    			</ion-item>
    		</ion-list>
    		<div class="wrap-btns text-center policy">
    			<button type="button" class="btn-default min-width-100" ng-click="vm.goBack()">{{"Back" | translate}}</button>
    		</div>
    	</div><!-- .max-270 -->
    </ion-content>
    <img class="takaful-preloader" src="./img/preloader.gif" alt="takaful" ng-if="vm.preloader">
</ion-view>
